import{r as a,e as U}from"./index.DlAYGZ0P.js";var H={exports:{}},b={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B=a,z=Symbol.for("react.element"),$=Symbol.for("react.fragment"),F=Object.prototype.hasOwnProperty,Y=B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,q={key:!0,ref:!0,__self:!0,__source:!0};function R(t,r,i){var s,n={},o=null,l=null;i!==void 0&&(o=""+i),r.key!==void 0&&(o=""+r.key),r.ref!==void 0&&(l=r.ref);for(s in r)F.call(r,s)&&!q.hasOwnProperty(s)&&(n[s]=r[s]);if(t&&t.defaultProps)for(s in r=t.defaultProps,r)n[s]===void 0&&(n[s]=r[s]);return{$$typeof:z,type:t,key:o,ref:l,props:n,_owner:Y.current}}b.Fragment=$;b.jsx=R;b.jsxs=R;H.exports=b;var e=H.exports;const x={Settings:t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),ChevronUp:t=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:e.jsx("path",{d:"m18 15-6-6-6 6"})}),ChevronDown:t=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:e.jsx("path",{d:"m6 9 6 6 6-6"})}),ChevronRight:t=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:e.jsx("path",{d:"m9 18 6-6-6-6"})}),X:t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("path",{d:"M18 6 6 18"}),e.jsx("path",{d:"m6 6 12 12"})]}),Volume2:t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),e.jsx("path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07"}),e.jsx("path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14"})]}),Maximize:t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("path",{d:"M8 3H5a2 2 0 0 0-2 2v3"}),e.jsx("path",{d:"M21 8V5a2 2 0 0 0-2-2h-3"}),e.jsx("path",{d:"M3 16v3a2 2 0 0 0 2 2h3"}),e.jsx("path",{d:"M16 21h3a2 2 0 0 0 2-2v-3"})]}),MessageSquare:t=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:e.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),Users:t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"9",cy:"7",r:"4"}),e.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),e.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),EyeOff:t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24"}),e.jsx("path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"}),e.jsx("path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"}),e.jsx("line",{x1:"2",y1:"2",x2:"22",y2:"22"})]})};let g=new Set;const N={addUser(t){return g.add(t),g.size},removeUser(t){return g.delete(t),g.size},getCount(){return g.size}};function D({mobileHeader:t=!1}){const[r,i]=a.useState(0);return a.useEffect(()=>{const s=Math.random().toString(36).substring(7);i(N.addUser(s));const n=setInterval(()=>{i(N.getCount())},5e3);return()=>{clearInterval(n),N.removeUser(s)}},[]),t?e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(x.Users,{size:14,className:"text-[#fd5200]"}),e.jsx("span",{className:"text-xs font-medium text-gray-300",children:r})]}):e.jsx("div",{className:"absolute bottom-4 left-4 bg-gray-900/80 rounded-lg p-2",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(x.Users,{size:16,className:"text-[#fd5200]"}),e.jsx("span",{className:"text-sm font-medium",children:r})]})})}function G({onOpenSettings:t,currentServer:r}){return e.jsxs("header",{className:"bg-[#171b22] text-white py-2 px-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("h1",{className:"text-lg md:text-xl font-coolvetica bg-gradient-to-r from-[#fd5200] to-[#ff7e00] text-transparent bg-clip-text",children:"Cine Voxero"}),e.jsxs("div",{className:"hidden md:block text-sm text-gray-400",children:["Conectado a: ",r]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"md:hidden",children:e.jsx(D,{mobileHeader:!0})}),e.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-800 rounded-lg transition-colors",children:e.jsx(x.Settings,{className:"w-5 h-5 text-[#fd5200]"})})]})]})}function X({onToggleChat:t,isChatVisible:r}){const[i,s]=a.useState(80);return e.jsxs("div",{className:"absolute right-2 md:right-4 bottom-2 md:bottom-4 flex items-center space-x-2 md:space-x-4 bg-gray-900/80 px-2 md:px-4 py-2 rounded-lg transition-all duration-300",children:[e.jsx("button",{className:"p-1 md:p-2 hover:bg-gray-800 rounded",children:e.jsx(x.Volume2,{size:16,className:"text-[#fd5200] md:w-5 md:h-5"})}),e.jsx("div",{className:"w-16 md:w-24",children:e.jsx("input",{type:"range",className:"w-full accent-[#fd5200]",value:i,onChange:n=>s(parseInt(n.target.value))})}),e.jsx("button",{className:`p-1 md:p-2 hover:bg-gray-800 rounded ${r?"bg-gray-800":""}`,onClick:t,children:e.jsx(x.MessageSquare,{size:16,className:"text-[#fd5200] md:w-5 md:h-5"})}),e.jsx("button",{className:"p-1 md:p-2 hover:bg-gray-800 rounded",children:e.jsx(x.Maximize,{size:16,className:"text-[#fd5200] md:w-5 md:h-5"})})]})}const K=["Twitch","Ok.ru"];function J({isOpen:t,onClose:r,currentServer:i,onServerChange:s}){return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-40",onClick:r,"aria-hidden":"true"}),e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:e.jsx("div",{className:"relative bg-[#171b22] rounded-lg shadow-xl w-full max-w-md",children:e.jsxs("div",{className:"p-6",children:[e.jsx("button",{onClick:r,className:"absolute right-4 top-4 text-gray-400 hover:text-white transition-colors",children:e.jsx(x.X,{className:"w-5 h-5"})}),e.jsx("h2",{className:"text-lg md:text-xl font-bold text-white mb-6",children:"ConfiguraciÃ³n"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-base md:text-lg font-semibold mb-4 text-white",children:"Servidor de Streaming"}),e.jsx("div",{className:"space-y-2",children:K.map(n=>e.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg cursor-pointer transition-colors ${i===n?"bg-[#fd5200] text-white":"bg-gray-800/50 hover:bg-gray-800"}`,onClick:()=>s(n),children:[e.jsx("span",{className:"text-sm md:text-base",children:n}),i===n&&e.jsx("span",{className:"text-xs md:text-sm",children:"Actual"})]},n))})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsx("button",{onClick:r,className:"px-4 py-2 bg-[#fd5200] text-white rounded text-sm md:text-base hover:bg-[#e64a00] transition-colors",children:"Listo"})})]})]})})})})]}):null}function Q({channel:t,isVisible:r,onClose:i,isMobile:s=!1}){const[n,o]=a.useState(!0);return r?e.jsxs("div",{className:`bg-[#0f0f0f] flex flex-col ${s?"h-[55vh] w-full":"w-[30%]"}`,children:[n&&e.jsxs("div",{className:"relative bg-[#171b22] p-3 text-sm",children:[e.jsx("button",{onClick:()=>o(!1),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:e.jsx(x.X,{className:"w-4 h-4"})}),e.jsx("a",{href:"https://www.twitch.tv/signup",target:"_blank",rel:"noopener noreferrer",className:"text-[#fd5200] hover:text-[#e64a00] transition-colors",children:"Register on Twitch to participate in chat and interact with streamers!"})]}),e.jsx("div",{className:"flex-1 relative",children:e.jsx("iframe",{src:`https://www.twitch.tv/embed/${t}/chat?parent=${window.location.hostname}&darkpopout`,width:"100%",height:"100%",className:"border-0"})})]}):null}function Z(t,r){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&r.indexOf(s)<0&&(i[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var n=0;for(s=Object.getOwnPropertySymbols(t);n<s.length;n++)r.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(i[s[n]]=t[s[n]])}return i}const ee="https://embed.twitch.tv/embed/v1.js",c={CHAT:{HEIGHT:550,WIDTH:350},MEDIA:{HEIGHT:480,WIDTH:940},ID:{TWITCH_EMBED:"twitch-embed",TWITCH_PLAYER:"twitch-player"},TITLE:{TWITCH_CHAT:"TwitchChat",TWITCH_CLIP:"TwitchClip",TWITCH_PLAYER_NON_INTERACTIVE:"TwitchPlayerNonInteractive"},ALLOW_FULLSCREEN:!0,AUTOPLAY:!0,WITH_CHAT:!0,MUTED:!1,DARK_MODE:!0,TIME:"0h0m0s",HIDE_CONTROLS:!1,INLINE:!0},te=t=>{const[r,i]=a.useState({loading:!0,error:null});return a.useEffect(()=>{let s=document.querySelector(`script[src="${t}"]`);s?i(o=>Object.assign(Object.assign({},o),{loading:s.getAttribute("data-loading")==="true"})):(s=document.createElement("script"),s.src=t,s.async=!0,s.type="text/javascript",s.setAttribute("data-loading","true"),document.body.appendChild(s),s.addEventListener("load",()=>{s?.setAttribute("data-loading","false")},{once:!0}),s.addEventListener("error",()=>{s?.setAttribute("data-loading","false")},{once:!0}));const n=o=>{o.type==="load"?i({loading:!1,error:null}):o.type==="error"&&i({loading:!1,error:new Error(`There was an error loading the script for ${t}`)})};return s.addEventListener("load",n),s.addEventListener("error",n),()=>{s?.removeEventListener("load",n),s?.removeEventListener("error",n)}},[t]),r},se=t=>{const r=a.useRef();return a.useEffect(()=>{r.current=t},[t]),r.current},_=()=>t=>{},M=()=>(t,r)=>{},re=(t,r,i)=>{for(const s in t)if(t[s]!==r[s]&&!i.includes(s))return!0;return!1},ne=t=>{const r=document.getElementById(t);r&&(r.innerHTML="")},ie=["channel","video","collection","height","width"],oe=t=>{const{allowFullscreen:r=c.ALLOW_FULLSCREEN,autoplay:i=c.AUTOPLAY,channel:s,video:n,collection:o,withChat:l=c.WITH_CHAT,muted:h=c.MUTED,parent:m,darkMode:p=c.DARK_MODE,time:C=c.TIME,hideControls:k=c.HIDE_CONTROLS,onAuthenticate:L=M(),onVideoPlay:T=M(),onVideoPause:I=_(),onVideoReady:S=_(),id:j=c.ID.TWITCH_EMBED,height:W=c.MEDIA.HEIGHT,width:V=c.MEDIA.WIDTH}=t,P=Z(t,["allowFullscreen","autoplay","channel","video","collection","withChat","muted","parent","darkMode","time","hideControls","onAuthenticate","onVideoPlay","onVideoPause","onVideoReady","id","height","width"]),{loading:y,error:E}=te(ee),u=se(t),v=a.useRef(),O=a.useCallback(f=>{ne(j);const d=new f(j,{allowfullscreen:r,autoplay:i,channel:s,video:n,collection:o,layout:l?"video-with-chat":"video",muted:h,parent:typeof m=="string"?[m]:m,theme:p?"dark":"light",time:C,controls:!k,height:"100%",width:"100%"});return d.addEventListener(f.AUTHENTICATE,w=>L(d,w)),d.addEventListener(f.VIDEO_PLAY,w=>T(d,w)),d.addEventListener(f.VIDEO_PAUSE,()=>I(d)),d.addEventListener(f.VIDEO_READY,()=>S(d)),d},[r,i,s,n,o,l,h,m,p,C,k,L,I,T,S,j]);return a.useEffect(()=>{y||(E?console.error(E):v.current&&!((f,d)=>{var w;return re((w=f)!==null&&w!==void 0?w:{},d,ie)})(u,t)?(s&&u?.channel!==s&&v.current.getPlayer().setChannel(s),n&&u?.video!==n&&v.current.getPlayer().setVideo(n,0),o&&u?.collection!==o&&v.current.getPlayer().setCollection(o,n)):v.current=O(window.Twitch.Embed))},[s,o,O,E,y,u,t,n]),y?null:U.createElement("div",Object.assign({id:j,style:{height:W,width:V}},P))};function ae({channel:t,currentServer:r}){const[i,s]=a.useState(r==="Twitch");return a.useEffect(()=>{if(r==="Ok.ru"){s(!1);return}const n=async()=>{try{const l=await fetch(`https://api.twitch.tv/helix/streams?user_login=${t}`,{headers:{"Client-ID":void 0,Authorization:"Bearer undefined"}});if(!l.ok){s(!1);return}const h=await l.json();s(h.data&&h.data.length>0&&h.data[0].type==="live")}catch(l){console.error("Error checking stream:",l),s(!1)}};n();const o=setInterval(n,6e4);return()=>clearInterval(o)},[t,r]),i?e.jsx("div",{className:"w-full h-full",children:e.jsx(oe,{channel:t,width:"100%",height:"100%",withChat:!1,theme:"dark",muted:!0})}):e.jsx("div",{className:"w-full h-full bg-black",children:e.jsx("iframe",{src:"//ok.ru/videoembed/7682591825651?nochat=1",frameBorder:"0",allow:"autoplay",allowFullScreen:!0,className:"w-full h-full"})})}const A="cinevoxero";function de(){const[t,r]=a.useState(!1),[i,s]=a.useState(!1),[n,o]=a.useState("Twitch"),[l,h]=a.useState(!1);a.useEffect(()=>{const p=()=>{h(window.innerWidth<768),window.innerWidth<768&&r(!0)};return p(),window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[]);const m=()=>r(!t);return e.jsxs("div",{className:"min-h-screen bg-[#0f0f0f] text-white flex flex-col",children:[e.jsx(G,{onOpenSettings:()=>s(!0),currentServer:n}),e.jsxs("main",{className:"flex-1 relative",children:[e.jsxs("div",{className:"absolute inset-0 flex flex-col md:flex-row",children:[e.jsx("div",{className:`relative transition-all duration-300 ${t&&!l?"md:w-[70%]":"w-full"} ${t&&l?"h-[45vh]":"h-full"}`,children:e.jsx(ae,{channel:A,currentServer:n})}),e.jsx(Q,{channel:A,isVisible:t,onClose:m,isMobile:l})]}),e.jsx("div",{className:"absolute inset-0 pointer-events-none",children:e.jsxs("div",{className:"h-full w-full flex flex-col justify-between p-4",children:[e.jsx("div",{className:"pointer-events-auto flex justify-end",children:!l&&e.jsx(X,{onToggleChat:m,isChatVisible:t})}),e.jsx("div",{className:"pointer-events-auto",children:!l&&e.jsx(D,{})})]})})]}),e.jsx(J,{isOpen:i,onClose:()=>s(!1),currentServer:n,onServerChange:o})]})}export{de as default};
